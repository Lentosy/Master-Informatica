<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<title>
Minerva</title>


<!-- Stylesheets -->
<!-- <link rel="stylesheet" type="text/css" media="print"               href="https://minerva.ugent.be/main/css/print/default.css"/> -->
<link rel="stylesheet" type="text/css" media="screen, projection" href="Minerva_files/video.css"><link rel="stylesheet" type="text/css" media="screen, projection" href="Minerva_files/jquery.css">
<!--<link rel="stylesheet" type="text/css" media="screen, projection"   href="https://minerva.ugent.be/main/inc/js/css/jquery.dataTables.min.css" />-->

<link rel="stylesheet" type="text/css" media="screen, projection" href="Minerva_files/default.css">

<!-- Javascripts -->
<script type="text/javascript" async="" defer="defer" src="Minerva_files/piwik.js"></script><script type="text/javascript" src="Minerva_files/jquery_004.js"></script>
<script type="text/javascript" src="Minerva_files/jquery-migrate-1.js"></script>
<script type="text/javascript" src="Minerva_files/jquery-ui-1.js"></script>
<script type="text/javascript" src="Minerva_files/ckeditor.js"></script><style>.cke{visibility:hidden;}</style>
<script type="text/javascript" src="Minerva_files/jquery_003.js"></script>
<script type="text/javascript" src="Minerva_files/settings.php"></script>
<script type="text/javascript" src="Minerva_files/minerva.js"></script>
<script type="text/javascript" src="Minerva_files/print_page.js"></script>
<script type="text/javascript" src="Minerva_files/jquery_002.js"></script>
<script type="text/javascript" src="Minerva_files/tag-it.js"></script>
<script type="text/javascript" src="Minerva_files/jquery.js"></script>
<script type="text/javascript" src="Minerva_files/MathJax.js"></script>

<!-- Easter Eggs -->

<!-- links -->
<link rel="top" href="https://minerva.ugent.be/index.php" title="">
<link rel="courses" href="https://minerva.ugent.be/main/auth/courses.php" title="Andere cursussen">
<link rel="profile" href="https://minerva.ugent.be/main/auth/profile.php" title="Mijn profiel">
<link type="text/plain" rel="author" href="https://minerva.ugent.be/humans.txt">
<link href="http://icto.ugent.be/" rel="Copyright">



<!-- Favicon -->
<link rel="shortcut icon" href="https://minerva.ugent.be/main/img/favicon.ico" type="image/x-icon">


<!-- Touch icons -->
<link rel="apple-touch-icon" href="https://minerva.ugent.be/main/img/apple-touch-icon-57x57-precomposed.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://minerva.ugent.be/home/apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://minerva.ugent.be/main/img/apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://minerva.ugent.be/main/img/apple-touch-icon-144x144-precomposed.png">

<!-- Precomposed touch icons -->
<link rel="apple-touch-icon-precomposed" href="https://minerva.ugent.be/main/img/apple-touch-icon-57x57-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://minerva.ugent.be/home/apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://minerva.ugent.be/main/img/apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://minerva.ugent.be/main/img/apple-touch-icon-144x144-precomposed.png">

<!-- meta -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="application-name" content="Minerva">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="https://minerva.ugent.be/main/img/apple-touch-icon-144x144-precomposed.png">
<meta name="Generator" content="Dokeos">
<meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- make sure IE uses it's latest view mode (thus disables compatibility mode) -->
<meta name="viewport" content="width=device-width, initial-scale=1">


    <script type="text/javascript">
function autoResize(id){
    var newheight;
    var newwidth;

    if(document.getElementById){
        newheight=document.getElementById(id).contentWindow.document .body.scrollHeight;
        newwidth=document.getElementById(id).contentWindow.document .body.scrollWidth;
    }

    document.getElementById(id).height= (newheight) + 100 + "px";
    document.getElementById(id).width= (newwidth) + 100 + "px";
}
</script>

<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body dir="ltr"><div id="MathJax_Message" style="display: none;"></div>

<!-- #outerframe container to control some general layout of all pages -->
<div id="container">

<div id="topbar">
<div id="sitelogo"><a href="http://www.ugent.be/" title="Universiteit Gent" id="institutionlogo"><img src="Minerva_files/4c7c44381b6177f4d96228231c6b07d229cbd3cf.png" alt="Minerva" title="Minerva"></a></div><div id="user">
<ul class="swapUnderline">
<li class="member"><a href="https://minerva.ugent.be/main/auth/profile.php" target="_top">Aangemeld als Bert De Saffel</a></li>
<li class="last-child"><a target="_top" href="https://minerva.ugent.be/plugin/cas/logoutcas.php">UGent CAS logout</a></li></ul>
</div>
<div class="clear"></div></div>
<div id="header">
<div id="headerleft">
<h1 class="site_title"><a href="http://www.ugent.be/" title="Universiteit Gent" id="institution">Universiteit Gent</a><span id="institutiondash"> - </span><a href="https://minerva.ugent.be/" title="Minerva">Minerva</a></h1>
</div>
<div id="headerright">
<div id="utility"><a href="#" onclick='javascript:printme("https://minerva.ugent.be/main/","/main/document/showdocument.php");' class="item_action"><img src="Minerva_files/print.gif" alt="&nbsp;Afdrukken" title="&nbsp;Afdrukken"></a><span class="glyphicon glyphicon-menu-hamburger right" id="menutoggle"></span></div></div>
<div class="visualClear"></div>
<div id="subbar">
<div id="subbarul"><ul id="main_navigation">
<li class="selected open"><a href="https://minerva.ugent.be/index.php" target="_top">Mijn Minerva</a></li><li><a href="https://minerva.ugent.be/main/auth/profile.php" target="_top">Mijn profiel</a></li><li><a href="https://minerva.ugent.be/main/calendar/myagenda.php" target="_top">Mijn agenda</a></li><li><a href="https://minerva.ugent.be/main/curriculum/index.php?year=2018">Aanbod 2018-2019</a></li>
</ul>
</div></div>
</div>
<div class="right">
<div id="toolshortcuts">
	<a href="https://minerva.ugent.be/main/course_home/course_home.php?cidReq=E76500302018&amp;source=toolshortcuts" target="_top" title=""><img src="Minerva_files/home_s.gif" alt="Cursus-startpagina" title="Cursus-startpagina" class="icon toolshortcut"></a>
	<a href="https://minerva.ugent.be/main/calendar/agenda.php?source=toolshortcuts&amp;gidReset=1&amp;cidReq=E76500302018" target="_top" title=""><img src="Minerva_files/blanco.png" alt="Agenda" title="Agenda" class="icon toolshortcut_agenda"></a>	<a href="https://minerva.ugent.be/main/announcements/announcements.php?source=toolshortcuts&amp;gidReset=1&amp;cidReq=E76500302018" target="_top" title=""><img src="Minerva_files/blanco.png" alt="Aankondigingen" title="Aankondigingen" class="icon toolshortcut_announcement"></a>	<a href="https://minerva.ugent.be/main/document/document.php?source=toolshortcuts&amp;gidReset=1&amp;cidReq=E76500302018" target="_top" title=""><img src="Minerva_files/blanco.png" alt="Documenten" title="Documenten" class="icon toolshortcut_document"></a>	<a href="https://minerva.ugent.be/main/curriculum/studiefiche.php?source=toolshortcuts&amp;gidReset=1&amp;cidReq=E76500302018" target="_top" title=""><img src="Minerva_files/blanco.png" alt="Studiefiche" title="Studiefiche" class="icon toolshortcut_studiefiche"></a></div>
</div><div id="breadcrumb">
<a href="https://minerva.ugent.be/main/course_home/course_home.php?gidReset=1&amp;cidReq=E76500302018" target="_top" title="Beveiliging van netw...erken en computers"><span class="short">Beveiliging van netw<span class="short_more">...</span><span class="short_rest" style="display:none;">erken en computers</span></span></a>
<span class="breadcrumbSeparator"> &gt; </span><a href="https://minerva.ugent.be/main/document/document.php?curdirpath=&amp;cidReq=E76500302018" target="_top">Documenten</a>
<span class="breadcrumbSeparator"> &gt; </span><a href="https://minerva.ugent.be/main/document/document.php?curdirpath=%2FLabo&amp;cidReq=E76500302018" target="_top">Labo</a>
<span class="breadcrumbSeparator"> &gt; </span><a href="https://minerva.ugent.be/main/document/document.php?curdirpath=%2FLabo%2F09_-_Firewalls&amp;cidReq=E76500302018" target="_top">09_-_Firewalls</a>
<span class="breadcrumbSeparator"> &gt; </span>opgave.html
</div>
<div class="clear"></div><div class="hidden"></div><div id="main">
<div id="content" class="wide"><div id="content" style="width: 100%">

   <title>Labo firewalls</title>
   <meta name="author" content="pieterjan.maenhaut@ugent.be;wim.vandenbreen@ugent.be">
   <meta charset="UTF-8">
      <style type="text/css">
        .remark { background-image:url("warning.png"); background-repeat:no-repeat; border: 5px solid #FFFFCC; background-color: #FFFFCC; padding-left: 20px; }
      </style>


<h1>Labo firewalls</h1>
<h2>Opgave</h2>

<p>
  De bedoeling van dit labo is een firewall op te zetten met een gedemilitariseerde zone (DMZ) en een intern netwerk.<br>
  Deze opdracht wordt uitgevoerd in groepen van 4, de indeling van de groepen vind je <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/groepen.pdf?cidReq=E76500302018">hier</a>.
</p>
<p>
  Elke groep maakt een opstelling met 4 PC's: een externe router (RE), 
een interne router (RI), een bastion host (BH) en een client in het 
interne netwerk (CL).<br>
  Deze <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/opstelling.pdf?cidReq=E76500302018">figuur</a> toont de volledige opstelling voor één groep.<br>
  Let in elk geval ook op de manier waarop de toestellen met elkaar zijn verbonden.
</p>

<p>
  Welk toestel binnen jouw groep zal fungeren als RE, BH, RI en CL kan je hier vinden per lokaal:
  <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/231.pdf?cidReq=E76500302018">2.031</a> en <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/235.pdf?cidReq=E76500302018">2.035</a>.<br>
  Een overzicht van alle IP-adressen voor jouw groep vind je <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/ip_adressen.pdf?cidReq=E76500302018">hier</a>.
</p>

<h3>1. Routing</h3>

<p>Zorg er in eerste instantie voor dat de routing correct werkt:</p>
<ul>
  <li>Sluit de nodige netwerkkabels aan, en maak overal gebruik van <i>statische</i> IP-adressen, bij voorkeur via <i>ifcfg</i>-bestanden.
  </li><li>Om de route naar de DMZ te verspreiden, zal de <b>externe router (RE)</b> gebruikmaken van een RIPv2-router (via Quagga).</li>
  <li>De <b>bastion host (BH)</b> fungeert als <i>bridge</i>, zodat hij in de DMZ verbonden is met zowel de interne als externe router.</li>
  <li>De <b>interne router (RI)</b> maakt gebruik van <i>NAT</i> om het interne netwerk te maskeren.</li>
</ul>

<p>
  De <b>externe router</b> is verbonden met een extern netwerk dat zal fungeren als het <i>internet</i>.<br> 
  Dit is het netwerk waar alle computers zijn op aangesloten die niet in de testopstelling
  zijn betrokken, zo ook intranet.iii.hogent.be en moore.iii.hogent.be (192.168.16.8).<br>
  Het internet op de externe router moet je aansluiten op <b>lan0</b>,
  dus op de interface waarmee de machine in de normale toestand met het net is verbonden.<br>
  Om de route naar de DMZ te verspreiden naar alle andere externe routers, alsook naar moore.iii.hogent.be, 
  zal de externe router gebruikmaken van een <b>RIPv2</b>-router (via Quagga). 
</p>
<div class="remark">
 <b>Belangrijk:</b> voor een correcte werking is het noodzakelijk dat je elk toestel gebruikt voor de functie zoals aangegeven in de figuur voor <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/231.pdf?cidReq=E76500302018">2.031</a> of <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/235.pdf?cidReq=E76500302018">2.035</a>.
</div>
<p>
  De <b>bastion host</b> bevindt zich in de DMZ. <br>
  De bastion host fungeert als <i>bridge</i>, zodat hij in de DMZ ook verbonden is met zowel de interne als met de externe router.<br>
  Hij zal ook dienst doen als nameserver, als webserver, en als proxyserver voor HTTP en HTTPS (zie verder).
</p>

<p>
  De <b>interne router</b> verbindt het interne netwerk met de DMZ.
  Op het interne netwerk is één pc aangesloten die dienst doet als testclient (CL).
</p>

<p>
  De DMZ is rechtstreeks bereikbaar van overal op het "internet" maar maskeert het interne netwerk.<br>
  Dat betekent dat geen enkele computer op het interne netwerk (o.a. de 
testclient CL) bereikbaar is van buiten, ook niet vanaf de DMZ.<br>
  Het private netwerk 10.0.0.0/8 moet dus gemaskeerd worden met behulp van NAT.<br>
  Voor de configuratie van NAT maak je gebruik van <i>iptables</i>.
</p>

<p>
  <b>Opgelet:</b><br>
  Op moore.iii.hogent.be (192.168.16.8) worden de routes naar alle gedemilitariseerde zones door Quagga verzameld.<br>
  Je zal 192.168.16.8 dus moeten instellen als default gateway!
</p>

<p>
  Indien nodig kan je voor de toestellen binnen je netwerk <b>tijdelijk</b> 192.168.16.8 instellen als DNS-server.<br>
  Wanneer je opstelling volledig geconfigureerd is, zou je dan vanaf <b>elk toestel</b> (dus ook de interne client) moeten kunnen surfen op het Internet.<br>
</p>
<div class="remark">
  <b>Begin niet aan een volgende onderdeel zolang de routing nog niet volledig werkt!</b>
</div>

<h3>2. DNS, web- en proxyserver</h3>

<p>Configureer de <b>bastion host</b> zodat hij dienst doet als nameserver, webserver en proxyserver voor HTTP/HTTPS:</p>
<ul>
  <li>
    De <b>nameserver</b> is de primaire (en enige) nameserver voor je eigen zone.<br>
    Hij moet zowel kunnen antwoorden op <i>forward</i> als op <i>reverse</i> DNS query's.<br>
    Voor de toestellen binnen jouw zone maak je gebruik van de 
oorspronkelijke computernamen (bv. archimedes.groep19.iii.hogent.be).<br>
    Vragen die de nameserver zelf niet kan beantwoorden stuurt hij door (via een <i>forwarder</i>) naar 192.168.16.8.
  </li>
  <li>
    Voor de configuratie van de webserver maak je gebruik van apache (httpd).<br>
    De website is vanaf het interne netwerk bereikbaar op poort 80.<br>
    Het is niet nodig om HTTPS te configureren.
  </li>
  <li>
    Voor de <b>proxyserver</b> maak je eveneens gebruik van apache (httpd).<br> 
    De proxy-server zal alle HTTP en HTTPS requests op poort 8080 doorsturen naar de remote proxyserver op 192.168.16.8:8080.
  </li>
</ul>

<p>
  Eenmaal je DNS-configuratie in orde is, is het de bedoeling dat elk 
toestel binnen jouw groep je eigen DNS-server gebruikt (en dus niet 
192.168.16.8).<br>
  Bovendien configureer je de browser van de interne client zodat deze de proxyserver van jouw BH gebruikt voor <b>alle</b> HTTP/HTTPS aanvragen, behalve deze naar je eigen website.<br>
  Als je configuratie correct is zou je vanaf de interne client nog 
steeds moeten kunnen surfen op het Internet (maar dus nu via de 
proxyserver).
</p>
<div class="remark">
  <b>Test je opstelling grondig vooraleer je begint met de configuratie van de firewallregels!</b>
</div>

<h3>3. Firewall</h3>

<p>
  Nu is het de bedoeling dat je de nodige <b>firewallregels</b> toevoegt op zowel de <b>externe router</b> als de <b>interne router</b>.<br>
  In tegenstelling tot het vorige labo (iptables) gebruik je tijdens dit labo <i>statefull</i> firewallregels waar mogelijk.<br>
  Schrijf bovendien de firewall regels zo <b>strikt</b> mogelijk.
</p>
<p>
  Zorg ook voor de nodige <b>firewallregels</b> zodat:
  </p><ul>
    <li>
      De <b>interne router</b> HTTP, DNS, SSH en proxyverkeer doorlaat van het private netwerk naar de bastion host, 
      en speciaal voor dit labo de client ook toelaat om te pingen naar alle computers binnen de DMZ maar niet verder.
    </li>
    <li>
      De <b>externe router</b> DNS, SSH en proxyverkeer doorlaat van de bastion host naar het publieke netwerk (het internet).<br>
      Bovendien moet de DNS-informatie op de bastion host van buiten je DMZ (internet) bereikbaar zijn.<br>
      De website op de bastion host mag echter enkel intern bereikbaar zijn.<br>
      Zorg er bovendien voor dat je van een extern toestel naar de bastion host (enkel dit toestel!) kunt pingen.<br>
      De externe router draait RIP via Quagga, alle inkomende en 
uitgaande berichten die te maken hebben met RIPv2 moeten dus ook worden 
toegelaten. 
    </li>
  </ul>
  
<p></p>
<p>
  Vooraleer je de opstelling weer mag afbreken, moet ze geëvalueerd worden door één van de docenten.<br>
  Alvorens een docent te vragen om je opstelling na te kijken, kan je zelf controleren of alles correct werkt via <a href="https://minerva.ugent.be/courses2018/E76500302018/document/Labo/09_-_Firewalls/checklist.pdf?cidReq=E76500302018">deze</a> checklist.<br>
</p>

<h2>Algemene richtlijnen:</h2>
<p>
  Om deze opstelling te verwezenlijken moet de bestaande netwerkbekabeling worden aangepast.<br>
  Bedenk dat op het einde van de labosessie de oorspronkelijke toestand moet hersteld worden in een <b>werkende</b> staat.<br>
  Bij groepen die dit verzuimen zal de quotering worden aangepast!<br>
  Noteer dus alles goed vooraleer je iets verandert en test of de teruggeplaatste instellingen functioneren.
</p>
<p>
  Bovendien moet je er rekening mee houden dat van elk paar UTP-netwerkcontactdozen op de tafel
  er steeds maar één connector is verbonden; onthoud dus de welke.<br>
  Ook is het van belang om van de twee (of meer) netwerkinterfaces in de pc's opnieuw de juiste te verbinden!
</p>
<p>
  Bedenk ook dat eens het netwerk is onderbroken, het publieke internet 
en dus ook Minerva (tijdelijk) niet meer van op elke machine bereikbaar 
zijn.<br>
  Enkel de <b>externe router</b> blijft aangesloten op het "internet" met zijn origineel IP-adres.
</p>

</div></div>

<div class="clear">&nbsp;</div>
<div id="footerpush">&nbsp;</div>
</div>
</div> <!-- end of #container opened in header -->
<div class="visualClear"></div>
<div id="footer-wrap">
<div id="footer">
<ul id="copyright">
<li class="byline_author">Platformbeheerder: <a href="mailto:minerva@ugent.be" class="byline_author">ICTO Minerva-team</a></li>
<li class="byline_author">©2018 Platform <a href="http://icto.ugent.be/" class="byline_author" title="Minerva">Minerva</a> - <a href="http://www.ugent.be/" class="byline_author" title="Universiteit Gent">Universiteit Gent</a></li>
</ul>
<ul class="swapUnderline" id="meta" style="list-style: none; padding: 0;">
<li style="display: inline; margin-right: 10px;"><a href="http://www.ugent.be/" target="_blank">Universiteit Gent</a></li>
<li style="display: inline; margin-right: 10px;"><a href="http://helpdesk.ugent.be/" target="_blank">Directie ICT</a></li>	
<li style="display: inline; margin-right: 10px;"><a href="http://icto.ugent.be/" target="_blank">Afdeling Onderwijstechnologie</a></li>
<li class="last-child" style="display: inline; margin-right: 10px;"><a href="http://www.ugent.be/nl/disclaimer" target="_blank">Disclaimer</a></li>
</ul>
<div id="minerva-version"><span id="minerva-version-release">Versienummer: 2018.2.7</span><span id="minerva-version-timestamp"> (2018-12-14 07:19)</span></div><div class="visualClear"></div>
<div class="plugins">
<div id="footer_helpdeskform" class="plugin">
<script type="text/javascript">
    function showform()
    {
        $("#helpdesk-dialog").dialog({
            bgiframe: true,
            width: 800,
            modal: true,
            autoOpen: true,
            buttons: {
                 'Send': function() {
                    if($("#email").val().length > 0 && valid_email($("#email").val()) && $("#target").val() > 0 && $("#problembody").val().length > 0)
                    {
                        $.post(
                            "https://minerva.ugent.be/plugin/helpdeskform/index.php", 
                            {
                                action: "helpdeskform::sendmail",
                                target: $("#target").val(),
                                problembody : $("#problembody").val(),
                                request: $("#request").val(),
                                email: $("#email").val()
                            }, 
                            function(data)
                            { 
                                $("#debug").html(data); 
                                $("#confirmDialog").dialog("open");
                            }
                        );  
                        $(this).dialog('close');
                    }
                    else
                    {
                        if ($("#email").val().length == 0){
                            alert("Gelieve je e-mailadres in te geven.");    
                        }
                        if(!valid_email($("#email").val())){
                            alert("Gelieve het e-mailadres aan te passen naar een correct formaat.");
                        }
                        if($("#target").val() <= 0){
                            alert("Please select a destination.");
                        }
                        if($("#problembody").val().length == 0){
                            alert("Gelieve het probleem te omschrijven.");
                        }
                    }
                },
                Cancel: function() {
                    $(this).dialog('close');
                }
            }
        });

        $("#confirmDialog").dialog({
            bgiframe: true,
            height: 140,
            modal: true,
            autoOpen: false,
            buttons: {
                Ok: function() {
                    $(this).dialog('close');
                }
            }
        });
        
        function valid_email(email) {
            console.log(email);
            var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            console.log(regex.test(email));
            return regex.test(email);
        }
    }
</script>
<div id="helpdesk-dialog" title="Rapporteer een probleem" style="display: none;" class="">
	<form class="bodyform">
		<input type="hidden" name="action" value="helpdeskform::sendmail">
		<input type="hidden" id="request" name="request" value="GET /main/document/showdocument.php?action=view&amp;type=html&amp;ref=30535001&amp;curdirpath=%2FLabo%2F09_-_Firewalls&amp;file=%2FLabo%2F09_-_Firewalls%2Fopgave.html&amp;cidReq=E76500302018">
		<div class="row">			<label class="helpdesk-dialog-label" for="email"><span class="form_required">*</span> Uw emailadres </label>
			<input type="text" id="email" name="email" value="Bert.DeSaffel@UGent.be">
		</div>		<div class="row">			<label class="helpdesk-dialog-label" for="target"><span class="form_required">*</span> Selecteer een bestemmeling.</label>
			<select id="target" name="target">
				<option value="0" selected="selected">Selecteer een bestemmeling</option>
				<option value="1">Contacteer de cursusverantwoordelijke (voor inhoudelijke vragen)</option>
				<option value="2">Contacteer de technische helpdesk voor dit platform</option>
				<option value="3">Contacteer het OASIS-team</option>
				<option value="4">Contacteer de Curios helpdesk</option>
				<option value="5">Contacteer de helpdesk voor Multiple Choice Examens (MCE)</option>
				<option value="6">Contacteer de Multimedia helpdesk (video's, lesopnames, streaming, ...)</option>
			</select>
		</div>		<div class="row">			<label class="helpdesk-dialog-label" for="problembody"><span class="form_required">*</span> Beschrijf uw probleem hier.</label>
			<textarea id="problembody" name="problembody" rows="10" cols="70"></textarea>
			<span class="form_required">*</span> moet ingevuld worden
		</div>	</form>
</div>
<div><input type="button" class="link_alike" onclick="showform()" value="Rapporteer een probleem"></div><div id="debug"></div><div id="confirmDialog" style="display: none;">Uw bericht werd verzonden.</div></div>
<div id="footer_googleanalytics" class="plugin">
<!-- Matomo -->
<script type="text/javascript">
  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo1.ugent.be/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '11']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code --></div>
<div id="footer_online" class="plugin">
</div>
<div id="footer_translation" class="plugin">
</div>
</div>
<div class="visualClear"></div>
</div>
</div>


</body></html>
<!-- ictomin4 -->