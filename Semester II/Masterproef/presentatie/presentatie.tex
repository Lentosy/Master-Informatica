\documentclass[]{beamer}

\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows}
\tikzstyle{result} = [rectangle, rounded corners, minimum width=3cm, minimum height=0.5cm, text centered, draw=black, fill=green!30]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=0.5cm, text centered, draw=black, fill=orange!30]
\tikzstyle{arrow}= [thick,->,>=stealth]
\usepackage{movie15}
\usepackage{lipsum}
\usepackage{pgfpages}
\usepackage{graphicx}
\usepackage[dutch]{babel}
\graphicspath{{img/}}

\mode<handout>{%
%	\setbeameroption{show notes}
}

\usetheme{AnnArbor}
\usecolortheme{beaver}

\AtBeginSection[]
{
	\begin{frame}
		\frametitle{Inhoudsopgave}
		\tableofcontents[currentsection]
	\end{frame}
}

\AtBeginSubsection[]
{
	\begin{frame}
	\frametitle{Inhoudsopgave}
	\tableofcontents[currentsection, currentsubsection]
	\end{frame}
}



\begin{document}
	\title[Actieherkenning met de Kinect sensor]{Intuïtieve mens-machineinterface met live actieherkenning }
	\author[Bert De Saffel]{
				\begin{tabular}{rcr}
				prof. dr. ir. Peter Veelaert &\&& prof. dr. ir. Wilfried Philips \\
				ing. Sanne Roegiers &\&& ing. Dimitri van Cauwelaert
				\end{tabular}
	}
	
	\subtitle{Master of Science in de industriële wetenschappen: informatica \\ \vspace{0.2cm} Bert De Saffel}
	\date{04 april 2019}
	\frame{\titlepage}
	
	\begin{frame}{Inhoudsopgave}
		\begin{enumerate}
			\item Context
			\item Probleemstellingen
			\item Methodologie
		\end{enumerate}
	\end{frame}
	
	\section{Context}

	\begin{frame}{Context}
		\begin{figure}
				\includegraphics[width=0.3\textwidth]{imagine1}
			\end{figure}
		\begin{figure}
			\includegraphics[width=0.3\textwidth]{imagine2}
		\end{figure}
		
	\end{frame}

	\begin{frame}{Context}
		\begin{itemize}
			\item Hoe besturen?
				\begin{itemize}
					\item Remote control
					\item Autonoom
					\item Actieherkenning
				\end{itemize}
			\end{itemize}
	\end{frame}

	\begin{frame}\frametitle{Context}
		\begin{itemize}
			\item De verplaatsing van een \textquotedblleft robot\textquotedblright uitvoeren met enkel actieherkenning
			\item<2-> Met de kinect sensor
			\begin{itemize}
				\item Kan skeletbeelden genereren vanuit RGB-D data
			\end{itemize}
			\begin{figure}
				\includegraphics[width=0.4\textwidth]{skeleton}
			\end{figure}	
		\end{itemize}
	\end{frame}
	\begin{frame}{Kinect Sensor}
		\begin{figure}
			\includegraphics[width=\textwidth]{sensoren}
		\end{figure}
	\end{frame}

	\section{Probleemstellingen}
	\begin{frame}\frametitle{Probleemstellingen}
		\begin{enumerate}
			\item Verschillen in lichaamsbouw mogelijk (klein vs groot)
			\item Verschillen in camerahoek
			\item Verschillen in locatie
			\item<2-> Real-time actieherkenning
			\begin{itemize}
				\item De actie herkennen op het moment dat deze uitgevoerd wordt
				\item $\approx$ binnen $5$ frames
			\end{itemize} 
		\end{enumerate}
	\end{frame}

	\begin{frame}\frametitle{Onderzoek}
		\begin{enumerate}
			\item De features moeten rotatie-, lichaams- en plaatsinvariant zijn
			\item Actie moet vroeg genoeg herkend worden om live te kunnen classificeren
		\end{enumerate}
	\end{frame}


	\section{Methodologie}
	\subsection{Machine Learning}
	\begin{frame}{Machine Learning - Classificatieprobleem}
			\begin{itemize}
				\item Een verzameling van klassen (labels, uitvoerwaarden, ...)
				\item \textbf{Gegeven een observatie, tot welke klasse behoort ze?}
				\item Bij actieherkenning:
				\begin{itemize}
					\item Klassen = acties
					\item Observaties = frames
				\end{itemize}
			\end{itemize}

	\end{frame}
	
	
	\begin{frame}{Machine Learning - Features}
		\begin{itemize}
			\item Een observatie wordt getransformeerd naar \textit{features}
			\begin{itemize}
				\item Pixel: RGB-waarden
				\item Persoon: leeftijd, geslacht, haarkleur, lengte, ...
			\end{itemize}
			\item Features op basis van skeletbeelden
			\begin{itemize}
				\item Elk skelet \textit{joint} wordt gekenmerkt door zijn ($x, y, z$) coördinaten en ($a, b, c, d$) quaternionen.
				\begin{itemize}
					\item Quaternion:
					$$\textbf{q} = a + b\textbf{i} + c\textbf{j} + d\textbf{k}$$
				\end{itemize}
				\item Het skelet bestaat uit 25 \textit{joints}
				\item[$\rightarrow$] 175-dimensionale \textit{feature vector}
				

			\end{itemize}
		
		\end{itemize}
		$$\textbf{f} = \begin{pmatrix}
		x_1 & y_1 &  ...&  y_{25} & z_{25} & a_1 & b_1 & ... & c_{25} & d_{25}
		\end{pmatrix}$$
	\end{frame}

	\begin{frame}{Machine Learning - Classificatie}
		\begin{itemize}
			\item De \textit{feature vector} kan als input dienen voor eender welke classifier
			\item Welke classifier is de beste? $\rightarrow$ Evalueren a.d.h.v. een \textit{confusion matrix}:
				\begin{figure}[ht]
					\centering
					\includegraphics[width=0.5\textwidth]{confusionmatrix}
				\end{figure}
				
				\item Precision = $\frac{TP}{TP + FP}$
				\item Recall = $\frac{TP}{TP + FN}$
				\item F1 score = $2*\frac{precision * recall}{precision + recall}$
				
		
		\end{itemize}
	\end{frame}
	\subsection{Dataset}
	\begin{frame}{Dataset}
		\begin{itemize}
			\item 9 acties, 4 personen 
			\item Opgenomen met de Kinect
			\item \textit{Leave-One-Out Cross Validation}
			\begin{itemize}
				\item Trainingset: $n - 1$ personen
				\item Testset: $1$ persoon
				\item Evalueer classifier met deze twee sets
				\item Herhaal $n$ keer zodat elke persoon één keer in de testset zit
				\item De score van de classifier is het gemiddelde van de scores
			\end{itemize}
		\end{itemize}
	\end{frame}
	\subsection{Preprocessing}
	\begin{frame}{Preprocessing}
	\includegraphics[width=\textwidth]{skeleton_preprocessing}
\end{frame}
	\begin{frame}{Preprocessing}
		\begin{enumerate}
			\item[1.]<1-> Plaats-invariantie $\rightarrow$ Translatie
			\begin{itemize}
				\item \textit{Spine base joint} als oorsprong:
				$$\begin{pmatrix}
				x' \\
				y' \\
				z'
				\end{pmatrix}
				= \begin{pmatrix}
				x \\ y \\ z
				\end{pmatrix}
				- \begin{pmatrix}
				x_0 \\ y_0 \\ z_0
				\end{pmatrix}$$
				met $x_0, y_0, z_0$ de drie-dimensionale coördinaten van de \textit{Spine base joint}
			\end{itemize}
			\item[2.]<2-> Schaal-invariantie $\rightarrow$ Vectornormalisatie 
			\begin{itemize}
				\item Elk component van elke positievector delen door lengte van de \textit{neck joint} positievector:
				$$
				\begin{pmatrix}
				x' \\ y' \\ z'
				\end{pmatrix}
				=				
				\begin{pmatrix}
				\frac{x}{||n||} \\ \frac{y}{||n||}  \\ \frac{z}{||n||} 
				\end{pmatrix}
				$$
				met $$||n|| = \sqrt{(neck_x)^2 + (neck_y)^2 + (neck_z)^2}$$
			\end{itemize}
		\end{enumerate}
	\end{frame}

	\begin{frame}
		\begin{enumerate}
			\item[3.]<1-> Rotatie-invariantie $\rightarrow$ Lokaal skeletcoördinatensysteem $(X', Y', Z')$
			\begin{itemize}
				\item X'-as = de as door de \textit{Right Hip joint (RH)} en \textit{Left Hip joint (LH)}
				\item Y'-as = de as door de \textit{Spine Base joint (SB)} en \textit{Spine Mid joint (SM)}
				\item Z'-as = orthogonaal met X' en Y'

			\end{itemize}
	\end{enumerate}
	\end{frame}
	
	
	\subsection{Classificatie}
	\begin{frame}{Classificatie}
		\begin{itemize}
			\item Enerzijds vergelijken verschillende classifiers
			\begin{itemize}
				\item $K$-\textit{Nearest Neighbors}
				\begin{itemize}
					\item Vergelijk de $k$ dichtste feature vectoren, de gelabelde klasse is diegene die het meest voorkomt
				\end{itemize}
				\item \textit{Support Vector Machine}
				\begin{itemize}
					\item Zoek een hypervlak dat de positieve observaties van de negatieve onderscheidt.
					\begin{figure}[ht]
						\centering
						\includegraphics[width=0.5\linewidth]{svm}
					\end{figure}
				\end{itemize}

			\end{itemize}
		\end{itemize}
	\end{frame}
	\begin{frame}{Classificatie}
		\begin{itemize}
			\item Anderzijds verschillende classificatiestrategieën toepassen
			\begin{itemize}
				\item Frame per frame classificeren zonder temporaal aspect
				\item Buffer bijhouden van 30 opeenvolgende frames, met \textit{majority voting} de actie bepalen
				\item Buffer bijhouden van 30 opeenvolgende frames, met een gewogen vote de actie bepalen
				\item Gewichten op actie plaatsen
				\begin{itemize}
					\item Stopactie heeft voorrang
				\end{itemize}
		
			\end{itemize}
		\end{itemize}
	\end{frame}


	\subsection{Evaluatie}
	\begin{frame}{Evaluatie}
		\centering
		\includegraphics[width=0.8\linewidth]{PerFrameClassification_PreProcessing}
	\end{frame}
	\begin{frame}{Evaluatie}
		\centering
		\includegraphics[width=0.8\linewidth]{SimpleBufferClassification_PreProcessing}
	\end{frame}
	\begin{frame}{Evaluatie}
		\centering
		\includegraphics[width=0.8\linewidth]{WeightedBufferClassification_PreProcessing}
	\end{frame}
	
	
	\begin{frame}
	Een recap doen van alle onderwerpen
\end{frame}
	\begin{frame}
		\begin{center}
			\Huge Vragen, opmerkingen, ...?
		\end{center}
	\end{frame}
\end{document}